---
// FormationProcess.astro
---

<section class="roadmap-section" id="processus">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Notre <span class="gradient-text">Parcours</span> de Formation</h2>
        <p class="section-subtitle">
          Une méthodologie structurée pour vous accompagner de l'apprentissage à l'indépendance professionnelle
        </p>
      </div>
  
      <div class="roadmap-container">
        <div class="roadmap-line-container">
          <div class="roadmap-line">
            <div class="roadmap-progress"></div>
          </div>
        </div>
  
        <div class="roadmap-steps">
          <div class="roadmap-step" data-step="1">
            <div class="step-dot"></div>
            <div class="step-content">
              <div class="step-number">01</div>
              <h3 class="step-title">Diagnostic & Orientation</h3>
              <p class="step-description">
                Évaluation de vos compétences actuelles, définition de vos objectifs professionnels et élaboration d'un plan de formation personnalisé.
              </p>
              <ul class="step-details">
                <li>Audit de vos connaissances en CRO et Shopify</li>
                <li>Définition de vos objectifs de carrière</li>
                <li>Plan d'apprentissage sur mesure</li>
              </ul>
              <div class="step-duration">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                <span>1-2 semaines</span>
              </div>
            </div>
          </div>
  
          <div class="roadmap-step" data-step="2">
            <div class="step-dot"></div>
            <div class="step-content">
              <div class="step-number">02</div>
              <h3 class="step-title">Formation Fondamentale en CRO</h3>
              <p class="step-description">
                Acquisition des compétences essentielles en optimisation du taux de conversion pour transformer les visiteurs en clients.
              </p>
              <ul class="step-details">
                <li>Analyse du comportement utilisateur</li>
                <li>Tests A/B et optimisation des parcours</li>
                <li>Outils analytiques et interprétation des données</li>
              </ul>
              <div class="step-duration">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                <span>4-6 semaines</span>
              </div>
            </div>
          </div>
  
          <div class="roadmap-step" data-step="3">
            <div class="step-dot"></div>
            <div class="step-content">
              <div class="step-number">03</div>
              <h3 class="step-title">Maîtrise de l'Écosystème Shopify</h3>
              <p class="step-description">
                Formation approfondie sur la plateforme Shopify, de la configuration de base aux personnalisations avancées et optimisations techniques.
              </p>
              <ul class="step-details">
                <li>Configuration et architecture de boutique</li>
                <li>Thèmes, applications et intégrations</li>
                <li>Solutions techniques avancées et personnalisation</li>
              </ul>
              <div class="step-duration">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                <span>5-8 semaines</span>
              </div>
            </div>
          </div>
  
          <div class="roadmap-step" data-step="4">
            <div class="step-dot"></div>
            <div class="step-content">
              <div class="step-number">04</div>
              <h3 class="step-title">Mise en Pratique Supervisée</h3>
              <p class="step-description">
                Application des connaissances sur des projets réels avec feedback et accompagnement personnalisé pour perfectionner vos compétences.
              </p>
              <ul class="step-details">
                <li>Travail sur des projets concrets</li>
                <li>Mentorat individuel et corrections</li>
                <li>Construction de votre portfolio professionnel</li>
              </ul>
              <div class="step-duration">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                <span>4-6 semaines</span>
              </div>
            </div>
          </div>
  
          <div class="roadmap-step" data-step="5">
            <div class="step-dot"></div>
            <div class="step-content">
              <div class="step-number">05</div>
              <h3 class="step-title">Transition vers l'Indépendance</h3>
              <p class="step-description">
                Coaching pour lancer votre activité indépendante avec succès, de la définition de votre offre à l'acquisition de vos premiers clients.
              </p>
              <ul class="step-details">
                <li>Positionnement et stratégie commerciale</li>
                <li>Création d'une proposition de valeur unique</li>
                <li>Techniques d'acquisition de clients</li>
              </ul>
              <div class="step-duration">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                <span>3-4 semaines</span>
              </div>
            </div>
          </div>
        </div>
      </div>
  
      <div class="process-summary">
        <div class="total-duration">
          <span class="duration-label">Durée totale du programme :</span>
          <span class="duration-value">17-26 semaines</span>
        </div>
        <div class="process-cta">
          <a href="#contact" class="btn btn-primary">Démarrer Votre Formation</a>
          <a target="_blank" href="https://cal.com/arthur-noellec/appel-decouverte" class="btn btn-outline">Appel Découverte Gratuit</a>
        </div>
      </div>
    </div>
  </section>
  
  <style>
    .roadmap-section {
      padding: 6rem 0;
    }
  
    .container {
      max-width: 1140px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }
  
    .section-header {
      text-align: center;
      margin-bottom: 4rem;
    }
  
  
    .section-subtitle {
      max-width: 700px;
      margin: 0 auto;
      color: #666;
      font-size: 1.1rem;
      line-height: 1.6;
    }
  
    .roadmap-container {
      position: relative;
      display: flex;
      margin: 2rem 0 4rem;
    }
  
    .roadmap-line-container {
      position: relative;
      width: 50px;
      padding-top: 2rem;
    }
  
    .roadmap-line {
      position: absolute;
      left: 35%;
      top: 35px;
      bottom: 0;
      width: 5px;
      background-color: #333333;
    }
  
    .roadmap-progress {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 0;
      background-color: var(--accent, #4a6cf7);
      transition: height 0.3s ease-out;
    }
  
    .roadmap-steps {
      flex: 1;
    }
  
    .roadmap-step {
      position: relative;
      display: flex;
      padding-bottom: 5rem;
      opacity: 0.6;
      transition: opacity 0.3s ease;
    }
  
    .roadmap-step:last-child {
      padding-bottom: 0;
    }
  
    .roadmap-step.active {
      opacity: 1;
    }
  
    .step-dot {
      position: absolute;
      left: -38px;
      top: 2rem;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background-color: #fff;
      border: 1px solid #e0e0e0;
      z-index: 2;
      transition: all 0.3s ease;
    }
  
    .roadmap-step.active .step-dot {
      background-color: var(--accent, #4a6cf7);
      border-color: var(--accent, #4a6cf7);
      transform: scale(1.2);
    }
  
    .step-content {
      flex: 1;
      padding-left: 1.5rem;
      border-radius: var(--radius-lg);
      background: #111111;
      padding: 20px;
      border: 1px solid var(--border);
    }
  
    .step-number {
      display: inline-block;
      font-size: 0.9rem;
      font-weight: 600;
      padding: 0.2rem 0.8rem;
      border-radius: 20px;
      background-color: var(--accent);
      color: #666;
      margin-bottom: 0.5rem;
    }
  
    .step-title {
      font-size: 1.3rem;
      margin-bottom: 0.75rem;
      font-weight: 600;
    }
  
    .step-description {
      color: #d7d7d7;
      margin-bottom: 1rem;
      line-height: 1.6;
    }
  
    .step-details {
      list-style-type: none;
      padding: 0;
      margin: 0 0 1.5rem;
    }
  
    .step-details li {
      position: relative;
      padding-left: 1.5rem;
      margin-bottom: 0.5rem;
      color: #cdcdcd;
    }
  
    .step-details li::before {
      content: "";
      position: absolute;
      left: 0;
      top: 0.5rem;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background-color: var(--accent, #4a6cf7);
    }
  
    .step-duration {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: #888;
      font-size: 0.9rem;
    }
  
    .step-duration svg {
      stroke: var(--accent, #4a6cf7);
    }
  
    .process-summary {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 2rem;
      padding: 2rem;
      background: #111111;
      border-radius: var(--radius-lg);
      border: 1px solid var(--border);
    }
  
    .total-duration {
      display: flex;
      align-items: baseline;
      gap: 0.75rem;
    }
  
    .duration-label {
      font-weight: 500;
      color: #ffffff;
    }
  
    .duration-value {
      font-size: 1.5rem;
      color: var(--accent, #4a6cf7);
      font-weight: 600;
    }
  
    .process-cta {
      display: flex;
      gap: 1rem;
    }
  
    .btn {
      display: inline-block;
      padding: 0.75rem 1.5rem;
      border-radius: 0.3rem;
      font-weight: 500;
      font-size: 0.95rem;
      text-decoration: none;
      transition: all 0.3s ease;
    }
  
    .btn-primary {
      background-color: var(--accent, #4a6cf7);
      color: #000000;
    }
  
    .btn-primary:hover {
      background-color: var(--accent-dark, #3a5bd7);
      transform: translateY(-2px);
    }
  
    .btn-outline {
      background-color: transparent;
      border: 1px solid var(--accent, #4a6cf7);
      color: var(--accent, #4a6cf7);
    }
  
    .btn-outline:hover {
      background-color: rgba(74, 108, 247, 0.05);
      transform: translateY(-2px);
    }
  
    .gradient-text {
      background: linear-gradient(90deg, var(--accent), #00ffff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
    }
  
    h2 {
      font-size: clamp(2rem, 4vw, 3rem);
      margin-bottom: 1.25rem;
    }
  
    @media (max-width: 768px) {
      .roadmap-section {
        padding: 4rem 0;
      }
  
      .roadmap-line-container {
        width: 30px;
      }
  
      .step-dot {
        left: -23px;
        width: 12px;
        height: 12px;
      }
  
      .step-content {
        padding-left: 1rem;
      }
  
      .process-summary {
        flex-direction: column;
        gap: 2rem;
        align-items: flex-start;
      }
  
      .process-cta {
        flex-direction: column;
        width: 100%;
      }
  
      .btn {
        width: 100%;
        text-align: center;
      }
    }
  </style>
  
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const roadmapSection = document.querySelector(".roadmap-section");
      const roadmapProgress = document.querySelector(".roadmap-progress");
      const roadmapSteps = document.querySelectorAll(".roadmap-step");
  
      // Fonction pour mettre à jour la progression et les étapes actives
      function updateProgress() {
        if (!roadmapSection || !roadmapProgress) return;
  
        // Obtenir les positions de défilement
        const rect = roadmapSection.getBoundingClientRect();
        const sectionTop = rect.top;
        const sectionHeight = rect.height;
        const windowHeight = window.innerHeight;
  
        // Calculer le pourcentage de défilement
        let scrollPercentage = 0;
  
        if (sectionTop <= 0 && sectionTop + sectionHeight > 0) {
          // La section est partiellement visible
          const scrollableDistance = sectionHeight - windowHeight;
          const scrolledDistance = Math.min(scrollableDistance, -sectionTop);
  
          // Calculer le pourcentage, avec un minimum de 0 et un maximum de 100
          scrollPercentage = Math.max(
            0,
            Math.min(100, (scrolledDistance / scrollableDistance) * 100)
          );
        } else if (sectionTop > 0) {
          // La section n'est pas encore visible
          scrollPercentage = 0;
        } else {
          // La section est complètement passée
          scrollPercentage = 100;
        }
  
        // Mettre à jour la hauteur de la barre de progression
        (roadmapProgress as HTMLElement).style.height = `${scrollPercentage}%`;
  
        // Mise à jour des étapes actives
        roadmapSteps.forEach((step, index) => {
          const stepRect = step.getBoundingClientRect();
  
          // Une étape est active si son milieu est visible dans la fenêtre
          if (stepRect.top < windowHeight * 0.75 && stepRect.bottom > 0) {
            step.classList.add("active");
          } else {
            step.classList.remove("active");
          }
        });
      }
  
      // Écouter les événements de défilement et de redimensionnement
      window.addEventListener("scroll", updateProgress);
      window.addEventListener("resize", updateProgress);
  
      // Initialiser la progression
      updateProgress();
    });
  </script>